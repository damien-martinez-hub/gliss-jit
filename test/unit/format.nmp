// to test it: ../../gep/gliss-disasm format.nmp

let proc="mine"

reg pc[1, card(32)] __attr(pc)

op instruction(i: ops)
	image = i.image
	syntax = i.syntax

op ops = op1 | op2

op op1(p: card(1))
	image = format("0000 000%1b", p)
	syntax = format("do %s", if p then "push" else "pop" endif)



op op2(v: card(1))
	image = format("1000 000%1b", v)
	syntax = format("-> %s (%d) %s", "a", v, "b")
